#| fig-width: 15
#| code-fold: true
ggplot() +
geom_line(data=cycle, aes(x=year, y=ImportValue, group=month), colour= "ImportValue") +
geom_line(data=cycle, aes(x=year, y=ExportValue, group=month), colour= "ExportValue") +
scale_color_manual(name = "Y series", values = c("ImportValue" = "steelblue", "ExportValue" = "#ec5954"))+
#
# ggplot()+
# geom_line(data=Summary,aes(y=Y1,x= X,colour="Y1"),size=1 )+
# geom_line(data=Summary,aes(y=Y2,x= X,colour="Y2"),size=1) +
# scale_color_manual(name = "Y series", values = c("Y1" = "darkblue", "Y2" = "red"))
facet_grid(~month) +
labs(title = "Singapore-China trading pattern",
subtitle = "2016-2022") +
ylab("Trading Volume") +
theme(plot.title = element_text(size=15),
axis.text.x = element_text(size = 10, angle = 90),
axis.text.y = element_text(size = 10),
strip.text = element_text(size = 10))
#| fig-width: 15
#| code-fold: true
ggplot() +
geom_line(data=cycle, aes(x=year, y=ImportValue, group=month), colour= "ImportValue") +
geom_line(data=cycle, aes(x=year, y=ExportValue, group=month), colour= "ExportValue") +
scale_color_manual(name = "Y series", values = c("ImportValue" = "steelblue", "ExportValue" = "#ec5954"))+
# facet_grid(~month) +
# labs(title = "Singapore-China trading pattern",
#      subtitle = "2016-2022") +
ylab("Trading Volume") +
theme(plot.title = element_text(size=15),
axis.text.x = element_text(size = 10, angle = 90),
axis.text.y = element_text(size = 10),
strip.text = element_text(size = 10))
#| fig-width: 15
#| code-fold: true
ggplot() +
geom_line(data=cycle, aes(x=year, y=ImportValue, group=month), colour= "steelblue") +
geom_line(data=cycle, aes(x=year, y=ExportValue, group=month), colour= "#ec5954") +
scale_color_manual(name = "Y series", values = c("ImportValue" = "steelblue", "ExportValue" = "#ec5954"))+
# facet_grid(~month) +
# labs(title = "Singapore-China trading pattern",
#      subtitle = "2016-2022") +
ylab("Trading Volume") +
theme(plot.title = element_text(size=15),
axis.text.x = element_text(size = 10, angle = 90),
axis.text.y = element_text(size = 10),
strip.text = element_text(size = 10))
#| fig-width: 15
#| code-fold: true
ggplot() +
geom_line(data=cycle, aes(x=year, y=ImportValue, group=month), colour= "steelblue") +
geom_line(data=cycle, aes(x=year, y=ExportValue, group=month), colour= "#ec5954") +
scale_color_manual(name = "Y series", values = c("ImportValue" = "steelblue", "ExportValue" = "#ec5954"))+
facet_grid(~month) +
labs(title = "Singapore-China trading pattern",
subtitle = "2016-2022") +
ylab("Trading Volume") +
theme(plot.title = element_text(size=15),
axis.text.x = element_text(size = 10, angle = 90),
axis.text.y = element_text(size = 10),
strip.text = element_text(size = 10))
#| fig-width: 15
#| code-fold: true
ggplot() +
geom_line(data=cycle, aes(x=year, y=ImportValue, group=month), colour= "steelblue") +
geom_line(data=cycle, aes(x=year, y=ExportValue, group=month), colour= "#ec5954") +
scale_color_manual(name = "Y series", values = c("ImportValue" = "steelblue", "ExportValue" = "#ec5954"))+
facet_grid(~month) +
labs(title = "Singapore-China trading pattern",
subtitle = "2016-2022") +
ylab("Trading Volume")
# +
#   theme(plot.title = element_text(size=15),
#         axis.text.x = element_text(size = 10, angle = 90),
#         axis.text.y = element_text(size = 10),
#         strip.text = element_text(size = 10))
#| fig-width: 15
#| code-fold: true
ggplot() +
geom_line(data=cycle, aes(x=year, y=ImportValue, group=month), colour= "steelblue") +
geom_line(data=cycle, aes(x=year, y=ExportValue, group=month), colour= "#ec5954") +
scale_color_manual(name = "Y series", values = c("ImportValue" = "steelblue", "ExportValue" = "#ec5954"))+
facet_grid(~month) +
labs(title = "Singapore-China trading pattern",
subtitle = "2016-2022") +
ylab("Trading Volume") +
theme(plot.title = element_text(size=15),
axis.text.x = element_text(size = 10, angle = 90),
axis.text.y = element_text(size = 10),
strip.text = element_text(size = 10))
#| fig-width: 15
#| code-fold: true
ggplot() +
geom_line(data=cycle, aes(x=year, y=ImportValue, group=month), colour= "steelblue") +
geom_line(data=cycle, aes(x=year, y=ExportValue, group=month), colour= "#ec5954") +
facet_grid(~month) +
labs(title = "Singapore-China trading pattern",
subtitle = "2016-2022") +
ylab("Trading Volume") +
theme(plot.title = element_text(size=15),
axis.text.x = element_text(size = 10, angle = 90),
axis.text.y = element_text(size = 10),
strip.text = element_text(size = 10))
#| layout-ncol: 2
hues <- scales::hue_pal()(2)
braid <- wide %>%
select(`Country`, `MonthYear`, `Level`, `ImportValue`, `ExportValue`) %>%
drop_na() %>%
subset(Country == "China")
ribbon <- gather(braid , "Type", "Value", -`Country`, -`MonthYear`, -`Level`)
braid2 <- wide %>%
select(`Country`, `MonthYear`, `Level`, `ImportValue`, `ExportValue`) %>%
drop_na() %>%
subset(Country == "Malaysia")
ribbon2 <- gather(braid2 , "Type", "Value", -`Country`, -`MonthYear`, -`Level`)
braid3 <- wide %>%
select(`Country`, `MonthYear`, `Level`, `ImportValue`, `ExportValue`) %>%
drop_na() %>%
subset(Country == "Taiwan")
ribbon3 <- gather(braid3 , "Type", "Value", -`Country`, -`MonthYear`, -`Level`)
braid4 <- wide %>%
select(`Country`, `MonthYear`, `Level`, `ImportValue`, `ExportValue`) %>%
drop_na() %>%
subset(Country == "Hong Kong")
ribbon4 <- gather(braid4 , "Type", "Value", -`Country`, -`MonthYear`, -`Level`)
braid5 <- wide %>%
select(`Country`, `MonthYear`, `Level`, `ImportValue`, `ExportValue`) %>%
drop_na() %>%
subset(Country == "Indonesia")
ribbon5 <- gather(braid5 , "Type", "Value", -`Country`, -`MonthYear`, -`Level`)
ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = ribbon,
show.legend = FALSE) +
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`>`ExportValue`),
data = braid,
alpha = 0.6,
method = 'line',
show.legend = FALSE)+
labs(title = "Singapore trade balance trend with China",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("rect",
xmin = as.Date("2020-01-01"),
xmax = as.Date("2022-12-01"),
ymin = 0,
ymax = 10000000,
alpha = .1,
fill = "yellow")
ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = ribbon2,
show.legend = FALSE) +
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`>`ExportValue`),
data = braid2,
alpha = 0.6,
method = 'line',
show.legend = FALSE)+
labs(title = "Singapore trade balance trend with Malaysia",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("rect",
xmin = as.Date("2020-01-01"),
xmax = as.Date("2022-12-01"),
ymin = 0,
ymax = 10000000,
alpha = .1,
fill = "yellow")+
annotate("text",
x = as.Date("2021-01-01"),
y = 2500000, size = 4,
label = "Import > Export",
hjust = 0,
color = hues[2])
ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = ribbon3,
show.legend = FALSE) +
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`<`ExportValue`),
data = braid3,
alpha = 0.6,
method = 'line',
show.legend = FALSE)+
labs(title = "Singapore trade balance trend with Taiwan",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("rect",
xmin = as.Date("2020-01-01"),
xmax = as.Date("2022-12-01"),
ymin = 0,
ymax = 10000000,
alpha = .1,
fill = "yellow")+
annotate("text",
x = as.Date("2019-01-01"),
y = 1000000, size = 4,
label = "Import > Export",
hjust = 0,
color = hues[2])
ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = ribbon4,
show.legend = FALSE) +
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`>`ExportValue`),
data = braid4,
alpha = 0.6,
method = 'line',
show.legend = FALSE)+
labs(title = "Singapore trade balance trend with Hong Kong",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("rect",
xmin = as.Date("2020-01-01"),
xmax = as.Date("2022-12-01"),
ymin = 0,
ymax = 10000000,
alpha = .1,
fill = "yellow")+
annotate("text",
x = as.Date("2019-01-01"),
y = 9000000, size = 4,
label = "Export > Import",
hjust = 0,
color = hues[1])
ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = ribbon5,
show.legend = FALSE) +
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`>`ExportValue`),
data = braid5,
alpha = 0.6,
method = 'line',
show.legend = FALSE)+
labs(title = "Singapore trade balance trend with Indonesia",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("rect",
xmin = as.Date("2020-01-01"),
xmax = as.Date("2022-12-01"),
ymin = 0,
ymax = 10000000,
alpha = .1,
fill = "yellow")+
annotate("text",
x = as.Date("2019-01-01"),
y = 9000000, size = 4,
label = "Export > Import",
hjust = 0,
color = hues[1])
#| layout-nrow: 2
p <- ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = singaporeribbon,
show.legend = FALSE)  +
labs(title = "Singapore Bi-lateral Trade Trend",
subtitle = "2016-2022",
singapore <- wide %>%
subset((Country == "Total Merchandise Imports"|Country == "Total Merchandise Exports")
& Level == "Country") %>%
group_by(MonthYear)
singaporeribbon <- singapore %>%
select(`Country`, `MonthYear`, `Level`, `ImportValue`, `ExportValue`) %>%
gather("Type", "Value", -`Country`, -`MonthYear`, -`Level`) %>%
drop_na()
#| layout-nrow: 2
p <- ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = singaporeribbon,
show.legend = FALSE)  +
labs(title = "Singapore Bi-lateral Trade Trend",
subtitle = "2016-2022",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("segment",
x = as.Date("2020-01-01"),
xend = as.Date("2020-01-01"),
y = 0,
yend = 70000000,
colour = "red") +
annotate("text",
label = "Covid outbreak",
x = as.Date("2020-12-01"),
y=25000000,
color = "red") +
annotate("text",
x = as.Date("2019-01-01"),
y = 9000000, size = 4,
label = "Export > Import",
hjust = 0,
color = hues[1])
p1 <- p+
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`>`ExportValue`),
show.legend = FALSE,
data = singapore,
alpha = 0.6,
method = 'line')
p1
ggplotly(p)
#| layout-nrow: 2
p <- ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = singaporeribbon,
show.legend = FALSE)  +
labs(title = "Singapore Bi-lateral Trade Trend",
subtitle = "2016-2022",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("segment",
x = as.Date("2020-01-01"),
xend = as.Date("2020-01-01"),
y = 0,
yend = 70000000,
colour = "red") +
annotate("text",
label = "Covid outbreak",
x = as.Date("2020-12-01"),
y=25000000,
color = "red") +
annotate("text",
x = as.Date("2019-01-01"),
y = 60000000, size = 4,
label = "Export > Import",
hjust = 0,
color = hues[1])
p1 <- p+
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`>`ExportValue`),
show.legend = FALSE,
data = singapore,
alpha = 0.6,
method = 'line')
p1
ggplotly(p)
#| layout-nrow: 2
p <- ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = singaporeribbon,
show.legend = FALSE)  +
labs(title = "Singapore Bi-lateral Trade Trend",
subtitle = "2016-2022",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("segment",
x = as.Date("2020-01-01"),
xend = as.Date("2020-01-01"),
y = 0,
yend = 70000000,
colour = "red") +
annotate("text",
label = "Covid outbreak",
x = as.Date("2020-12-01"),
y=25000000,
color = "red") +
annotate("text",
x = as.Date("2017-01-01"),
y = 60000000, size = 4,
label = "Export > Import",
hjust = 0,
color = hues[1])
p1 <- p+
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`>`ExportValue`),
show.legend = FALSE,
data = singapore,
alpha = 0.6,
method = 'line')
p1
ggplotly(p)
#| layout-nrow: 2
p <- ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = singaporeribbon,
show.legend = FALSE)  +
labs(title = "Singapore Bi-lateral Trade Trend",
subtitle = "2016-2022",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("segment",
x = as.Date("2020-01-01"),
xend = as.Date("2020-01-01"),
y = 0,
yend = 70000000,
colour = "red") +
annotate("text",
label = "Covid outbreak",
x = as.Date("2020-12-01"),
y=25000000,
color = "red") +
annotate("text",
x = as.Date("2018-01-01"),
y = 60000000, size = 4,
label = "Export > Import",
hjust = 0,
color = hues[1])
p1 <- p+
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`>`ExportValue`),
show.legend = FALSE,
data = singapore,
alpha = 0.6,
method = 'line')
p1
ggplotly(p)
#| layout-nrow: 2
p <- ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = singaporeribbon,
show.legend = FALSE)  +
labs(title = "Singapore Bi-lateral Trade Trend",
subtitle = "2016-2022",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("segment",
x = as.Date("2020-01-01"),
xend = as.Date("2020-01-01"),
y = 0,
yend = 70000000,
colour = "red") +
annotate("text",
label = "Covid outbreak",
x = as.Date("2020-12-01"),
y=25000000,
color = "red") +
annotate("text",
x = as.Date("2018-06-01"),
y = 60000000, size = 4,
label = "Export > Import",
hjust = 0,
color = hues[1])
p1 <- p+
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`>`ExportValue`),
show.legend = FALSE,
data = singapore,
alpha = 0.6,
method = 'line')
p1
ggplotly(p)
#| layout-nrow: 2
p <- ggplot() +
geom_line(aes(`MonthYear`, `Value`, linetype = `Type`),
data = singaporeribbon,
show.legend = FALSE)  +
labs(title = "Singapore Bi-lateral Trade Trend",
subtitle = "2016-2022",
x = 'Month Year',
y = 'Trade Value'
) +
annotate("segment",
x = as.Date("2020-01-01"),
xend = as.Date("2020-01-01"),
y = 0,
yend = 70000000,
colour = "red") +
annotate("text",
label = "Covid outbreak",
x = as.Date("2020-12-01"),
y=25000000,
color = "red") +
annotate("text",
x = as.Date("2018-06-01"),
y = 60000000, size = 4,
label = "Export > Import",
hjust = 0,
color = hues[1])
p1 <- p+
geom_braid(aes(`MonthYear`,
ymin = `ImportValue`,
ymax = `ExportValue`,
fill = `ImportValue`>`ExportValue`),
show.legend = FALSE,
data = singapore,
alpha = 0.6,
method = 'line')
p1
ggplotly(p)
